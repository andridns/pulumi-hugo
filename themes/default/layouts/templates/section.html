{{ define "hero" }}
    {{ partial "hero" (dict "title" "Pulumi Templates") }}
{{ end }}

{{ define "main" }}
    <div class="layout-{{ .Page.Layout }} container mx-auto mb-48">
        <div class="max-w-3xl mx-auto text-xl">
            <span class="text-gray-900">
                {{ .Content }}
            </span>
        </div>
        <div class="mx-auto">
            {{ $templates := where (where .Site.Pages ".Type" "templates") ".Layout" "overview" }}
            <ul class="tiles w-full md:flex md:flex-wrap justify-center mt-8">
                {{ range $template := sort $templates ".Params.weight" "asc" }}
                    <li class="list-none md:w-1/3 bg-white m-4">
                        <a href="{{ relref . $template.RelPermalink }}">
                            <div class="tile py-4 px-6 w-full">
                                {{ with $template }}
                                    {{ if .Params.meta_image }}
                                        <img class="rounded-t" src="{{ (.Resources.GetMatch .Params.meta_image).RelPermalink }}" alt="{{ .Title }}" />
                                    {{ end }}
                                    <h2 class="text-left">
                                        <span class="text-2xl">{{ .Title }}</span>
                                    </h2>
                                    <p>
                                        {{ .Params.meta_desc }}
                                    </p>
                                {{ end }}
                            </div>
                        </a>
                    </li>
                {{ end }}
            </ul>
        </div>
    </div>
{{ end }}
